{"ast":null,"code":"var _jsxFileName = \"/Users/karthik/dev/milkyway/src/Scanner.js\";\nimport React from 'react';\nimport Quagga from 'quagga';\n\nclass Scanner extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"interactive\",\n      className: \"viewport\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 13\n      }\n    });\n  }\n\n  async componentDidMount() {\n    Quagga.init({\n      inputStream: {\n        type: \"LiveStream\",\n        constraints: {\n          width: 640,\n          height: 480,\n          facing: \"environment\" // or user\n\n        }\n      },\n      locator: {\n        patchSize: \"medium\",\n        halfSample: true\n      },\n      numOfWorkers: 2,\n      decoder: {\n        readers: [\"code_128_reader\"]\n      },\n      locate: true\n    }, function (err) {\n      if (err) {\n        return console.log(err);\n      }\n\n      Quagga.start();\n    });\n    debugger; // await Quagga.decodeSingle({\n    //     decoder: {\n    //         readers: [\"code_128_reader\"] // List of active readers\n    //     },\n    //     locate: true, // try to locate the barcode in the image\n    //     src: '../test.jpg' // or 'data:image/jpg;base64,' + data\n    // }, function(result){\n    //     if(result.codeResult) {\n    //         debugger\n    //         this.props.onDetected(result);\n    //         // console.log(\"result\", result.codeResult.code);\n    //     } else {\n    //         console.log(\"not detected\");\n    //     }\n    // });\n    // Quagga.onDetected(this._onDetected);\n  }\n\n  componentWillUnmount() {\n    Quagga.offDetected(this._onDetected);\n  }\n\n  _onDetected(result) {\n    this.props.onDetected(result);\n  }\n\n}\n\nexport default Scanner;","map":{"version":3,"sources":["/Users/karthik/dev/milkyway/src/Scanner.js"],"names":["React","Quagga","Scanner","Component","constructor","props","state","render","componentDidMount","init","inputStream","type","constraints","width","height","facing","locator","patchSize","halfSample","numOfWorkers","decoder","readers","locate","err","console","log","start","componentWillUnmount","offDetected","_onDetected","result","onDetected"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;;AAEA,MAAMC,OAAN,SAAsBF,KAAK,CAACG,SAA5B,CAAsC;AAClCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa,EAAb;AAIH;;AACDC,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,EAAE,EAAC,aAAR;AAAsB,MAAA,SAAS,EAAC,UAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAGH;;AAED,QAAMC,iBAAN,GAA0B;AACtBP,IAAAA,MAAM,CAACQ,IAAP,CAAY;AACRC,MAAAA,WAAW,EAAE;AACTC,QAAAA,IAAI,EAAG,YADE;AAETC,QAAAA,WAAW,EAAE;AACTC,UAAAA,KAAK,EAAE,GADE;AAETC,UAAAA,MAAM,EAAE,GAFC;AAGTC,UAAAA,MAAM,EAAE,aAHC,CAGa;;AAHb;AAFJ,OADL;AASRC,MAAAA,OAAO,EAAE;AACLC,QAAAA,SAAS,EAAE,QADN;AAELC,QAAAA,UAAU,EAAE;AAFP,OATD;AAaRC,MAAAA,YAAY,EAAE,CAbN;AAcRC,MAAAA,OAAO,EAAE;AACLC,QAAAA,OAAO,EAAG,CAAE,iBAAF;AADL,OAdD;AAiBRC,MAAAA,MAAM,EAAE;AAjBA,KAAZ,EAkBG,UAASC,GAAT,EAAc;AACb,UAAIA,GAAJ,EAAS;AACL,eAAOC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAP;AACH;;AACDtB,MAAAA,MAAM,CAACyB,KAAP;AACH,KAvBD;AAwBA,aAzBsB,CA0BtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH;;AAEDC,EAAAA,oBAAoB,GAAG;AACnB1B,IAAAA,MAAM,CAAC2B,WAAP,CAAmB,KAAKC,WAAxB;AACH;;AAEDA,EAAAA,WAAW,CAACC,MAAD,EAAS;AAChB,SAAKzB,KAAL,CAAW0B,UAAX,CAAsBD,MAAtB;AACH;;AAjEiC;;AAmEtC,eAAe5B,OAAf","sourcesContent":["import React from 'react';\nimport Quagga from 'quagga';\n\nclass Scanner extends React.Component {\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n           \n        }\n        \n    };\n    render() {\n        return (\n            <div id=\"interactive\" className=\"viewport\"/>\n        );\n    }\n\n    async componentDidMount() {\n        Quagga.init({\n            inputStream: {\n                type : \"LiveStream\",\n                constraints: {\n                    width: 640,\n                    height: 480,\n                    facing: \"environment\" // or user\n                }\n            },\n            locator: {\n                patchSize: \"medium\",\n                halfSample: true\n            },\n            numOfWorkers: 2,\n            decoder: {\n                readers : [ \"code_128_reader\"]\n            },\n            locate: true\n        }, function(err) {\n            if (err) {\n                return console.log(err);\n            }\n            Quagga.start();\n        });\n        debugger\n        // await Quagga.decodeSingle({\n        //     decoder: {\n        //         readers: [\"code_128_reader\"] // List of active readers\n        //     },\n        //     locate: true, // try to locate the barcode in the image\n        //     src: '../test.jpg' // or 'data:image/jpg;base64,' + data\n        // }, function(result){\n        //     if(result.codeResult) {\n        //         debugger\n        //         this.props.onDetected(result);\n        //         // console.log(\"result\", result.codeResult.code);\n        //     } else {\n        //         console.log(\"not detected\");\n        //     }\n        // });\n        // Quagga.onDetected(this._onDetected);\n    }\n\n    componentWillUnmount() {\n        Quagga.offDetected(this._onDetected);\n    }\n\n    _onDetected(result) {\n        this.props.onDetected(result);\n    }\n}\nexport default Scanner"]},"metadata":{},"sourceType":"module"}